[workspace]
members = [
    "abop-core",
    "abop-gui",
    "abop-cli"
]
resolver = "2"



[workspace.dependencies]
# Core Dependencies - pinned for stability
anyhow = "1.0"
thiserror = "1.0"
log = "0.4"
tracing = "0.1"
tracing-subscriber = { version = "0.3", features = ["env-filter", "json"] }
serde = { version = "1.0", features = ["derive", "rc"] }
toml = ">=0.8"
chrono = { version = "0.4", features = ["serde", "clock", "std"] }
uuid = { version = "1.0", features = ["v4", "serde", "v7"] }
once_cell = "1.0"

# File System & Database - flexible versions
dirs = ">=5.0"
walkdir = ">=2.5"
rusqlite = { version = ">=0.31", features = ["bundled", "chrono"] }

# Async Runtime (only for tests in individual crates)
futures = ">=0.3"

# Audio Processing - specific versions for compatibility
symphonia = { version = "0.5.4", features = ["mp3", "aac", "isomp4", "flac", "all-codecs", "all-formats", "opt-simd"] }
rodio = { version = ">=0.17", features = ["symphonia"] }
num-complex = ">=0.4"
hound = ">=3.5"
rayon = ">=1.10"

# File dialogs
rfd = ">=0.14"

# Utilities
bytemuck = { version = ">=1.16", features = ["derive", "extern_crate_alloc"] }
serde_json = ">=1.0"



[workspace.lints.clippy]


# Promote important lints to warnings (keeping best practices)
missing_errors_doc = "warn"
missing_panics_doc = "warn"
must_use_candidate = "warn"
doc_markdown = "warn"
float_cmp = "warn"
cast_precision_loss = "warn"
cast_possible_truncation = "warn"
cast_sign_loss = "warn"

[workspace.package]
version = "0.1.0"
edition = "2024"
authors = ["Your Name <your.email@example.com>"]
description = "Audiobook Organizer & Processor"
license = "MIT"
repository = "https://github.com/yourusername/abop-iced"

[profile.release]
opt-level = 3
lto = true
codegen-units = 1

[profile.bench]
opt-level = 3
lto = true
codegen-units = 1
debug = true
